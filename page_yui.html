<html>
<head>

	<!--  <script type="text/javascript" src="http://yui.yahooapis.com/3.2.0/build/yui/yui-min.js"></script> -->
	<script type="text/javascript" src="yui/cached/yui-min.js"></script>
	<script type="text/javascript" src="yui/cached/functions.js"></script>
	<script type="text/javascript" src="yui/cached/loader-min.js"></script>
	<link rel="stylesheet" type="text/css" href="yui/cached/combo.css" />
	
	<script type="text/javascript" src="yui/javascript/build/yuitest/yuitest-min.js"></script>
	<script type="text/javascript" src="yui/javascript/build/yuitest/yuitest-core.js"></script>
	<script type="text/javascript" src="yui/javascript/build/yuitest/yuitest.js"></script>

	<script type="text/javascript" src="button.js"></script> <!-- script under test -->
	<script type="text/javascript" src="buttonYui.js"></script> <!-- test cases -->


</head>
<body>
	
	Input: <input type="text" id="in"> <br>
	<!-- <button onclick="cl()">script</button> <br> -->
	<!-- <button onclick="cl()">same script</button> <br> -->
	<button onclick="dotest()">test</button> <br>

	<div id="div">
	</div>

	<div id="res">
	</div>

	<script type="text/javascript">
    var init = true;
	
	var dotest = function() { 

		document.getElementById('res').innerHTML = '';

	 	YUI().use('test', function (Y) {

		 	var TestRunner = YUITest.TestRunner;
		 	if (init) {
			  	TestRunner.add(testCase);
		  	}

		    //function to handle events generated by the testrunner
		    function logEvent(event){
		        
		        //data variables
		        var message = "",
		            messageType = "";

		        switch(event.type){
		                
		            case TestRunner.TEST_FAIL_EVENT:
		                message = event.testName + ": failed.\n" + event.error.getMessage();
		                messageType = "fail";
		                document.getElementById('res').innerHTML += message + "<br>";
		                break;
		                
		            case TestRunner.TEST_PASS_EVENT:
		                message = event.testName + ": passed.";
		                messageType = "pass";
		                document.getElementById('res').innerHTML += message + "<br>";
		                break;

		            default:
		                message = "Unexpected event " + event.type;
		                message = "info";
		        }
		    
		        //output to browser console
		        Y.log(message, messageType, "TestRunner");
		    }
		    
		    if (init) {
			    TestRunner.attach(TestRunner.TEST_PASS_EVENT, logEvent);
			    TestRunner.attach(TestRunner.TEST_FAIL_EVENT, logEvent);
		    }
		    
		    //run the tests
		    TestRunner.run();

		    init = false;
		});

	}
  	</script>

</body>
</html>